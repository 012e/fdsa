{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/snippets/{id}":{"get":{"tags":["snippet-controller"],"operationId":"getSnippet","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Snippet"}}}}}},"put":{"tags":["snippet-controller"],"operationId":"updateSnippet","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SnippetInput"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Snippet"}}}}}},"delete":{"tags":["snippet-controller"],"operationId":"deleteSnippet","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/repositories/{owner}/{repository}/files":{"get":{"tags":["repository-controller"],"summary":"Read contents of a file in a repository","operationId":"readRepositoryFile","parameters":[{"name":"owner","in":"path","description":"Repository owner","required":true,"schema":{"type":"string"}},{"name":"repository","in":"path","description":"Repository name","required":true,"schema":{"type":"string"}},{"name":"path","in":"query","description":"File path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"File contents","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileContent"}}}}}},"put":{"tags":["repository-controller"],"summary":"Update a file in a repository","operationId":"updateRepositoryFile","parameters":[{"name":"owner","in":"path","description":"Repository owner","required":true,"schema":{"type":"string"}},{"name":"repository","in":"path","description":"Repository name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryFileChangeInput"}}},"required":true},"responses":{"200":{"description":"File updated","content":{"*/*":{"schema":{"type":"boolean"}}}}}},"post":{"tags":["repository-controller"],"summary":"Add a file to a repository","operationId":"addRepositoryFile","parameters":[{"name":"owner","in":"path","description":"Repository owner","required":true,"schema":{"type":"string"}},{"name":"repository","in":"path","description":"Repository name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryFileChangeInput"}}},"required":true},"responses":{"200":{"description":"File added","content":{"*/*":{"schema":{"type":"boolean"}}}}}},"delete":{"tags":["repository-controller"],"summary":"Delete a file from a repository","operationId":"deleteRepositoryFile","parameters":[{"name":"owner","in":"path","description":"Repository owner","required":true,"schema":{"type":"string"}},{"name":"repository","in":"path","description":"Repository name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryPathChangeInput"}}},"required":true},"responses":{"200":{"description":"File deleted","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/snippets":{"get":{"tags":["snippet-controller"],"operationId":"getAllSnippets","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Snippet"}}}}}}},"post":{"tags":["snippet-controller"],"operationId":"createSnippet","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SnippetInput"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Snippet"}}}}}}},"/api/repositories":{"get":{"tags":["repository-controller"],"summary":"List all repositories","operationId":"getAllRepositories","responses":{"200":{"description":"List of repositories","content":{"application/json":{}}}}},"post":{"tags":["repository-controller"],"summary":"Create a new repository","operationId":"createRepository","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryInput"}}},"required":true},"responses":{"200":{"description":"Repository created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Repository"}}}}}}},"/api/repositories/{owner}/{repository}/folders":{"post":{"tags":["repository-controller"],"summary":"Create a folder in a repository","operationId":"createRepositoryFolder","parameters":[{"name":"owner","in":"path","description":"Repository owner","required":true,"schema":{"type":"string"}},{"name":"repository","in":"path","description":"Repository name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryPathChangeInput"}}},"required":true},"responses":{"200":{"description":"Folder created","content":{"*/*":{"schema":{"type":"boolean"}}}}}},"delete":{"tags":["repository-controller"],"summary":"Delete a folder from a repository","operationId":"deleteRepositoryFolder","parameters":[{"name":"owner","in":"path","description":"Repository owner","required":true,"schema":{"type":"string"}},{"name":"repository","in":"path","description":"Repository name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryPathChangeInput"}}},"required":true},"responses":{"200":{"description":"Folder deleted","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/repositories/clone":{"post":{"tags":["repository-controller"],"summary":"Clone a repository from a source URL","operationId":"cloneRepository","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CloneRepositoryInput"}}},"required":true},"responses":{"200":{"description":"Repository cloned","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Repository"}}}}}}},"/api/snippets/files":{"get":{"tags":["snippet-controller"],"operationId":"listFilesByPath","parameters":[{"name":"owner","in":"query","required":true,"schema":{"type":"string"}},{"name":"path","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SnippetFile"}}}}}}}},"/api/snippets/by-path":{"get":{"tags":["snippet-controller"],"operationId":"getSnippetByPath","parameters":[{"name":"owner","in":"query","required":true,"schema":{"type":"string"}},{"name":"path","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Snippet"}}}}}}},"/api/snippets/by-owner/{owner}":{"get":{"tags":["snippet-controller"],"operationId":"getSnippetsByOwner","parameters":[{"name":"owner","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Snippet"}}}}}}}},"/api/repositories/{owner}/{repository}":{"get":{"tags":["repository-controller"],"summary":"Get a repository by owner and name","operationId":"getRepository","parameters":[{"name":"owner","in":"path","description":"Repository owner","required":true,"schema":{"type":"string"}},{"name":"repository","in":"path","description":"Repository name","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Repository details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Repository"}}}}}}},"/api/repositories/{owner}/{repository}/browse":{"get":{"tags":["repository-controller"],"summary":"List contents of a directory in a repository","operationId":"listRepositoryDirectory","parameters":[{"name":"owner","in":"path","description":"Repository owner","required":true,"schema":{"type":"string"}},{"name":"repository","in":"path","description":"Repository name","required":true,"schema":{"type":"string"}},{"name":"path","in":"query","description":"Directory path (empty or / for root)","required":false,"schema":{"type":"string","default":""}}],"responses":{"200":{"description":"Directory contents","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DirectoryContent"}}}}}}},"/api/repositories/by-owner/{owner}":{"get":{"tags":["repository-controller"],"summary":"List repositories by owner","operationId":"getRepositoriesByOwner","parameters":[{"name":"owner","in":"path","description":"Repository owner","required":true,"allowReserved":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"List of repositories for owner","content":{"application/json":{}}}}}}},"components":{"schemas":{"SnippetInput":{"type":"object","properties":{"owner":{"type":"string"},"path":{"type":"string"},"code":{"type":"string"}}},"Snippet":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"owner":{"type":"string"},"path":{"type":"string"},"code":{"type":"string"}}},"RepositoryFileChangeInput":{"type":"object","properties":{"path":{"type":"string"},"content":{"type":"string"},"commitMessage":{"type":"string"},"encoding":{"type":"string","enum":["TEXT","BASE64"]}}},"Repository":{"type":"object","properties":{"filesystemPath":{"type":"string"},"description":{"type":"string"},"identifier":{"type":"string"}}},"RepositoryInput":{"type":"object","properties":{"identifier":{"type":"string"},"description":{"type":"string"}}},"RepositoryPathChangeInput":{"type":"object","properties":{"path":{"type":"string"},"commitMessage":{"type":"string"}}},"CloneRepositoryInput":{"type":"object","properties":{"sourceUrl":{"type":"string"},"identifier":{"type":"string"},"description":{"type":"string"}}},"SnippetFile":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"owner":{"type":"string"},"path":{"type":"string"},"directory":{"type":"boolean"}}},"FileContent":{"type":"object","properties":{"path":{"type":"string"},"name":{"type":"string"},"size":{"type":"integer","format":"int64"},"content":{"type":"string","format":"byte"}}},"DirectoryContent":{"type":"object","properties":{"path":{"type":"string"},"entries":{"type":"array","items":{"oneOf":[{"$ref":"#/components/schemas/DirectoryEntry"},{"$ref":"#/components/schemas/FileEntry"}]}}}},"DirectoryEntry":{"allOf":[{"$ref":"#/components/schemas/Entry"}]},"Entry":{"type":"object","discriminator":{"propertyName":"type"},"properties":{"path":{"type":"string"},"name":{"type":"string"},"type":{"type":"string","enum":["FILE","DIRECTORY"]}}},"FileEntry":{"allOf":[{"$ref":"#/components/schemas/Entry"},{"type":"object","properties":{"size":{"type":"integer","format":"int64"}}}]}}}}