{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"security":[{"Oauth2":[]}],"tags":[{"name":"Code Search","description":"APIs for searching code files across repositories"}],"paths":{"/api/repositories/{owner}/{repository}/files":{"get":{"tags":["repository-controller"],"summary":"Read contents of a file in a repository","operationId":"readRepositoryFile","parameters":[{"name":"owner","in":"path","description":"Repository owner","required":true,"schema":{"type":"string"}},{"name":"repository","in":"path","description":"Repository name","required":true,"schema":{"type":"string"}},{"name":"path","in":"query","description":"File path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"File contents","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileContent"}}}}}},"put":{"tags":["repository-controller"],"summary":"Update a file in a repository","operationId":"updateRepositoryFile","parameters":[{"name":"owner","in":"path","description":"Repository owner","required":true,"schema":{"type":"string"}},{"name":"repository","in":"path","description":"Repository name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryFileChangeInput"}}},"required":true},"responses":{"200":{"description":"File updated","content":{"*/*":{"schema":{"type":"boolean"}}}}}},"post":{"tags":["repository-controller"],"summary":"Add a file to a repository","operationId":"addRepositoryFile","parameters":[{"name":"owner","in":"path","description":"Repository owner","required":true,"schema":{"type":"string"}},{"name":"repository","in":"path","description":"Repository name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryFileChangeInput"}}},"required":true},"responses":{"200":{"description":"File added","content":{"*/*":{"schema":{"type":"boolean"}}}}}},"delete":{"tags":["repository-controller"],"summary":"Delete a file from a repository","operationId":"deleteRepositoryFile","parameters":[{"name":"owner","in":"path","description":"Repository owner","required":true,"schema":{"type":"string"}},{"name":"repository","in":"path","description":"Repository name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryPathChangeInput"}}},"required":true},"responses":{"200":{"description":"File deleted","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/search/code":{"get":{"tags":["Code Search"],"summary":"Search for code files","description":"Performs full-text search across indexed code files with optional filters","operationId":"searchCode","parameters":[{"name":"q","in":"query","description":"Search query text","required":true,"schema":{"type":"string"}},{"name":"repositoryId","in":"query","description":"Filter by repository ID","required":false,"schema":{"type":"string","format":"uuid"}},{"name":"repositoryIdentifier","in":"query","description":"Filter by repository identifier (owner/name)","required":false,"schema":{"type":"string"}},{"name":"language","in":"query","description":"Filter by programming language","required":false,"schema":{"type":"string"}},{"name":"fileExtension","in":"query","description":"Filter by file extension","required":false,"schema":{"type":"string"}},{"name":"filePathPattern","in":"query","description":"Filter by file path pattern (supports wildcards)","required":false,"schema":{"type":"string"}},{"name":"page","in":"query","description":"Page number (0-based)","required":false,"schema":{"type":"integer","default":0}},{"name":"size","in":"query","description":"Number of results per page","required":false,"schema":{"type":"integer","default":10}},{"name":"highlight","in":"query","description":"Fields to highlight (comma-separated)","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"Search results","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CodeSearchResponse"}}}},"400":{"description":"Invalid search parameters","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CodeSearchResponse"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CodeSearchResponse"}}}}}},"post":{"tags":["Code Search"],"summary":"Search for code files (POST)","description":"Performs full-text search across indexed code files with optional filters using POST request","operationId":"searchCodePost","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CodeSearchRequest"}}},"required":true},"responses":{"200":{"description":"Search results","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CodeSearchResponse"}}}},"400":{"description":"Invalid search parameters","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CodeSearchResponse"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CodeSearchResponse"}}}}}}},"/api/repositories":{"get":{"tags":["repository-controller"],"summary":"List all repositories","operationId":"getAllRepositories","responses":{"200":{"description":"List of repositories","content":{"application/json":{}}}}},"post":{"tags":["repository-controller"],"summary":"Create a new repository","operationId":"createRepository","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryInput"}}},"required":true},"responses":{"200":{"description":"Repository created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Repository"}}}}}}},"/api/repositories/{owner}/{repository}/folders":{"post":{"tags":["repository-controller"],"summary":"Create a folder in a repository","operationId":"createRepositoryFolder","parameters":[{"name":"owner","in":"path","description":"Repository owner","required":true,"schema":{"type":"string"}},{"name":"repository","in":"path","description":"Repository name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryPathChangeInput"}}},"required":true},"responses":{"200":{"description":"Folder created","content":{"*/*":{"schema":{"type":"boolean"}}}}}},"delete":{"tags":["repository-controller"],"summary":"Delete a folder from a repository","operationId":"deleteRepositoryFolder","parameters":[{"name":"owner","in":"path","description":"Repository owner","required":true,"schema":{"type":"string"}},{"name":"repository","in":"path","description":"Repository name","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryPathChangeInput"}}},"required":true},"responses":{"200":{"description":"Folder deleted","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/repositories/clone":{"post":{"tags":["repository-controller"],"summary":"Clone a repository from a source URL","operationId":"cloneRepository","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CloneRepositoryInput"}}},"required":true},"responses":{"200":{"description":"Repository cloned","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Repository"}}}}}}},"/api/repositories/{owner}/{repository}":{"get":{"tags":["repository-controller"],"summary":"Get a repository by owner and name","operationId":"getRepository","parameters":[{"name":"owner","in":"path","description":"Repository owner","required":true,"schema":{"type":"string"}},{"name":"repository","in":"path","description":"Repository name","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Repository details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Repository"}}}}}}},"/api/repositories/{owner}/{repository}/browse":{"get":{"tags":["repository-controller"],"summary":"List contents of a directory in a repository","operationId":"listRepositoryDirectory","parameters":[{"name":"owner","in":"path","description":"Repository owner","required":true,"schema":{"type":"string"}},{"name":"repository","in":"path","description":"Repository name","required":true,"schema":{"type":"string"}},{"name":"path","in":"query","description":"Directory path (empty or / for root)","required":false,"schema":{"type":"string","default":""}}],"responses":{"200":{"description":"Directory contents","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DirectoryContent"}}}}}}},"/api/repositories/by-owner/{owner}":{"get":{"tags":["repository-controller"],"summary":"List repositories by owner","operationId":"getRepositoriesByOwner","parameters":[{"name":"owner","in":"path","description":"Repository owner","required":true,"allowReserved":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"List of repositories for owner","content":{"application/json":{}}}}}}},"components":{"schemas":{"RepositoryFileChangeInput":{"type":"object","properties":{"path":{"type":"string"},"content":{"type":"string"},"commitMessage":{"type":"string"},"encoding":{"type":"string","enum":["TEXT","BASE64"]}}},"ChunkMatch":{"type":"object","properties":{"index":{"type":"integer","format":"int32"},"content":{"type":"string"},"startLine":{"type":"integer","format":"int32"},"endLine":{"type":"integer","format":"int32"},"highlights":{"type":"array","items":{"type":"string"}}}},"CodeSearchResponse":{"type":"object","properties":{"results":{"type":"array","items":{"$ref":"#/components/schemas/CodeSearchResult"}},"totalHits":{"type":"integer","format":"int64"},"page":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"totalPages":{"type":"integer","format":"int32"},"tookMs":{"type":"integer","format":"int64"}}},"CodeSearchResult":{"type":"object","properties":{"id":{"type":"string"},"repositoryId":{"type":"string","format":"uuid"},"repositoryIdentifier":{"type":"string"},"filePath":{"type":"string"},"fileName":{"type":"string"},"fileExtension":{"type":"string"},"language":{"type":"string"},"content":{"type":"string"},"size":{"type":"integer","format":"int64"},"score":{"type":"number","format":"double"},"highlights":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"matchedChunks":{"type":"array","items":{"$ref":"#/components/schemas/ChunkMatch"}}}},"CodeSearchRequest":{"type":"object","properties":{"query":{"type":"string"},"repositoryId":{"type":"string","format":"uuid"},"repositoryIdentifier":{"type":"string"},"language":{"type":"string"},"fileExtension":{"type":"string"},"filePathPattern":{"type":"string"},"page":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"highlightFields":{"type":"array","items":{"type":"string"}}}},"Repository":{"type":"object","properties":{"description":{"type":"string"},"identifier":{"type":"string"},"ownerId":{"type":"string"}}},"RepositoryInput":{"type":"object","properties":{"identifier":{"type":"string"},"description":{"type":"string"}}},"RepositoryPathChangeInput":{"type":"object","properties":{"path":{"type":"string"},"commitMessage":{"type":"string"}}},"CloneRepositoryInput":{"type":"object","properties":{"sourceUrl":{"type":"string"},"identifier":{"type":"string"},"description":{"type":"string"}}},"FileContent":{"type":"object","properties":{"path":{"type":"string"},"name":{"type":"string"},"size":{"type":"integer","format":"int64"},"content":{"type":"string","format":"byte"}}},"DirectoryContent":{"type":"object","properties":{"path":{"type":"string"},"entries":{"type":"array","items":{"oneOf":[{"$ref":"#/components/schemas/DirectoryEntry"},{"$ref":"#/components/schemas/FileEntry"}]}}}},"DirectoryEntry":{"allOf":[{"$ref":"#/components/schemas/Entry"}]},"Entry":{"type":"object","discriminator":{"propertyName":"type"},"properties":{"path":{"type":"string"},"name":{"type":"string"},"type":{"type":"string","enum":["FILE","DIRECTORY"]}}},"FileEntry":{"allOf":[{"$ref":"#/components/schemas/Entry"},{"type":"object","properties":{"size":{"type":"integer","format":"int64"}}}]}},"securitySchemes":{"Oauth2":{"type":"oauth2","scheme":"bearer","bearerFormat":"JWT","flows":{"authorizationCode":{"authorizationUrl":"http://localhost:6969/realms/fdsa/protocol/openid-connect/auth","tokenUrl":"http://localhost:6969/realms/fdsa/protocol/openid-connect/token","scopes":{"openid":"openid","email":"email","profile":"profile"}}}}}}}